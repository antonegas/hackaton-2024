var Z=Object.defineProperty;var ee=(t,e,n)=>e in t?Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(ee(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function p(){}function H(t){return t()}function K(){return Object.create(null)}function L(t){t.forEach(H)}function J(t){return typeof t=="function"}function C(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let q;function te(t,e){return t===e?!0:(q||(q=document.createElement("a")),q.href=e,t===q.href)}function ne(t){return Object.keys(t).length===0}function E(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function Q(t){return document.createTextNode(t)}function F(){return Q(" ")}function X(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t){return Array.from(t.childNodes)}function oe(t,e){e=""+e,t.data!==e&&(t.data=e)}function V(t,e){t.value=e??""}let A;function P(t){A=t}function ie(){if(!A)throw new Error("Function called outside component initialization");return A}function ce(t){ie().$$.on_mount.push(t)}const S=[],W=[];let j=[];const G=[],se=Promise.resolve();let T=!1;function ue(){T||(T=!0,se.then(Y))}function D(t){j.push(t)}const M=new Set;let I=0;function Y(){if(I!==0)return;const t=A;do{try{for(;I<S.length;){const e=S[I];I++,P(e),le(e.$$)}}catch(e){throw S.length=0,I=0,e}for(P(null),S.length=0,I=0;W.length;)W.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];M.has(n)||(M.add(n),n())}j.length=0}while(S.length);for(;G.length;)G.pop()();T=!1,M.clear(),P(t)}function le(t){if(t.fragment!==null){t.update(),L(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}function ae(t){const e=[],n=[];j.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),j=e}const B=new Set;let v;function fe(){v={r:0,c:[],p:v}}function de(){v.r||L(v.c),v=v.p}function _(t,e){t&&t.i&&(B.delete(t),t.i(e))}function y(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),v.c.push(()=>{B.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function O(t){t&&t.c()}function b(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),D(()=>{const o=t.$$.on_mount.map(H).filter(J);t.$$.on_destroy?t.$$.on_destroy.push(...o):L(o),t.$$.on_mount=[]}),i.forEach(D)}function k(t,e){const n=t.$$;n.fragment!==null&&(ae(n.after_update),L(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pe(t,e){t.$$.dirty[0]===-1&&(S.push(t),ue(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(t,e,n,r,i,o,c=null,d=[-1]){const f=A;P(t);const s=t.$$={fragment:null,ctx:[],props:o,update:p,not_equal:i,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:K(),dirty:d,skip_bound:!1,root:e.target||f.$$.root};c&&c(s.root);let u=!1;if(s.ctx=n?n(t,e.props||{},(a,l,...h)=>{const x=h.length?h[0]:l;return s.ctx&&i(s.ctx[a],s.ctx[a]=x)&&(!s.skip_bound&&s.bound[a]&&s.bound[a](x),u&&pe(t,a)),l}):[],s.update(),u=!0,L(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const a=re(e.target);s.fragment&&s.fragment.l(a),a.forEach($)}else s.fragment&&s.fragment.c();e.intro&&_(t.$$.fragment),b(t,e.target,e.anchor),Y()}P(f)}class U{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){k(this,1),this.$destroy=p}$on(e,n){if(!J(n))return p;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ne(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const me="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(me);function _e(t){let e,n,r,i;return{c(){e=g("button"),n=Q(t[1]),m(e,"class","svelte-1d0xpgj")},m(o,c){w(o,e,c),E(e,n),r||(i=X(e,"click",function(){J(t[0])&&t[0].apply(this,arguments)}),r=!0)},p(o,[c]){t=o,c&2&&oe(n,t[1])},i:p,o:p,d(o){o&&$(e),r=!1,i()}}}function he(t,e,n){let{action:r}=e,{description:i}=e;return t.$$set=o=>{"action"in o&&n(0,r=o.action),"description"in o&&n(1,i=o.description)},[r,i]}class R extends U{constructor(e){super(),N(this,e,he,_e,C,{action:0,description:1})}}function $e(t){let e,n,r;return n=new R({props:{action:ge,description:"Continue with Discord"}}),{c(){e=g("div"),O(n.$$.fragment),m(e,"class","wrapper svelte-xfmem0")},m(i,o){w(i,e,o),b(n,e,null),r=!0},p,i(i){r||(_(n.$$.fragment,i),r=!0)},o(i){y(n.$$.fragment,i),r=!1},d(i){i&&$(e),k(n)}}}function ge(){window.location.replace("https://discord.com/api/oauth2/authorize?client_id=1200515855537160323&response_type=token&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2F&scope=identify")}class ye extends U{constructor(e){super(),N(this,e,null,$e,C,{})}}function we(t){let e,n,r,i,o;return{c(){e=g("div"),n=g("img"),i=F(),o=g("p"),o.textContent=`${t[0]}`,m(n,"class","avatar svelte-jw7k22"),te(n.src,r=t[1])||m(n,"src",r),m(o,"class","svelte-jw7k22"),m(e,"class","wrapper svelte-jw7k22")},m(c,d){w(c,e,d),E(e,n),E(e,i),E(e,o)},p,i:p,o:p,d(c){c&&$(e)}}}function ve(t){let e=localStorage.getItem("username"),n=localStorage.getItem("avatarUrl");return[e,n]}class be extends U{constructor(e){super(),N(this,e,ve,we,C,{})}}function ke(t){let e,n;return e=new R({props:{action:Se,description:"Create Party"}}),{c(){O(e.$$.fragment)},m(r,i){b(e,r,i),n=!0},p,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){k(e,r)}}}function xe(t){let e,n;return e=new R({props:{action:t[1],description:"Join Party"}}),{c(){O(e.$$.fragment)},m(r,i){b(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.action=r[1]),e.$set(o)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){k(e,r)}}}function Ie(t){let e,n,r,i,o,c,d,f;const s=[xe,ke],u=[];function a(l,h){return l[0]?0:1}return n=a(t),r=u[n]=s[n](t),{c(){e=g("div"),r.c(),i=F(),o=g("input"),m(o,"type","text"),m(o,"class","svelte-tmww9q"),m(e,"class","wrapper svelte-tmww9q")},m(l,h){w(l,e,h),u[n].m(e,null),E(e,i),E(e,o),V(o,t[0]),c=!0,d||(f=X(o,"input",t[2]),d=!0)},p(l,[h]){let x=n;n=a(l),n===x?u[n].p(l,h):(fe(),y(u[x],1,1,()=>{u[x]=null}),de(),r=u[n],r?r.p(l,h):(r=u[n]=s[n](l),r.c()),_(r,1),r.m(e,i)),h&1&&o.value!==l[0]&&V(o,l[0])},i(l){c||(_(r),c=!0)},o(l){y(r),c=!1},d(l){l&&$(e),u[n].d(),d=!1,f()}}}function Se(){fetch("/create").then(t=>console.log(t)).catch(console.error)}function Ee(t,e,n){let r;const i=()=>void 0;function o(){r=this.value,n(0,r)}return[r,i,o]}class je extends U{constructor(e){super(),N(this,e,Ee,Ie,C,{})}}function Oe(t){let e,n,r,i;return e=new be({}),r=new je({}),{c(){O(e.$$.fragment),n=F(),O(r.$$.fragment)},m(o,c){b(e,o,c),w(o,n,c),b(r,o,c),i=!0},i(o){i||(_(e.$$.fragment,o),_(r.$$.fragment,o),i=!0)},o(o){y(e.$$.fragment,o),y(r.$$.fragment,o),i=!1},d(o){o&&$(n),k(e,o),k(r,o)}}}function Pe(t){let e,n;return e=new ye({}),{c(){O(e.$$.fragment)},m(r,i){b(e,r,i),n=!0},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){k(e,r)}}}function Ae(t){let e,n,r,i,o,c;const d=[Pe,Oe],f=[];function s(u,a){return u[0]?1:0}return i=s(t),o=f[i]=d[i](t),{c(){e=g("h1"),e.textContent="Ball Pit",n=F(),r=g("div"),o.c(),m(r,"class","info-wrapper")},m(u,a){w(u,e,a),w(u,n,a),w(u,r,a),f[i].m(r,null),c=!0},p,i(u){c||(_(o),c=!0)},o(u){y(o),c=!1},d(u){u&&($(e),$(n),$(r)),f[i].d()}}}function Le(t){let e=localStorage.getItem("signedIn")==="true";return ce(()=>{const n=new URLSearchParams(window.location.hash.slice(1)),[r,i]=[n.get("access_token"),n.get("token_type")];r&&fetch("https://discord.com/api/users/@me",{headers:{authorization:`${i} ${r}`}}).then(o=>o.json()).then(o=>{console.log(o);const{id:c,username:d,avatar:f}=o;localStorage.setItem("signedIn","true"),localStorage.setItem("username",d),f?localStorage.setItem("avatarUrl",`https://cdn.discordapp.com/avatars/${c}/${f}.png`):localStorage.setItem("avatarUrl",`https://api.dicebear.com/7.x/thumbs/svg?seed=${d}`),window.location.href="/"}).catch(console.error)}),[e]}class Ce extends U{constructor(e){super(),N(this,e,Le,Ae,C,{})}}new Ce({target:document.getElementById("app")});
