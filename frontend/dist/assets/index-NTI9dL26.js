var oe=Object.defineProperty;var se=(t,e,n)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>(se(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function h(){}function te(t){return t()}function V(){return Object.create(null)}function C(t){t.forEach(te)}function R(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let q;function W(t,e){return t===e?!0:(q||(q=document.createElement("a")),q.href=e,t===q.href)}function ce(t){return Object.keys(t).length===0}function b(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function ue(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function z(){return F(" ")}function ne(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t){return t===""?null:+t}function le(t){return Array.from(t.childNodes)}function H(t,e){e=""+e,t.data!==e&&(t.data=e)}function G(t,e){t.value=e??""}let j;function L(t){j=t}function ae(){if(!j)throw new Error("Function called outside component initialization");return j}function fe(t){ae().$$.on_mount.push(t)}const O=[],Q=[];let P=[];const X=[],de=Promise.resolve();let T=!1;function me(){T||(T=!0,de.then(ie))}function D(t){P.push(t)}const M=new Set;let E=0;function ie(){if(E!==0)return;const t=j;do{try{for(;E<O.length;){const e=O[E];E++,L(e),he(e.$$)}}catch(e){throw O.length=0,E=0,e}for(L(null),O.length=0,E=0;Q.length;)Q.pop()();for(let e=0;e<P.length;e+=1){const n=P[e];M.has(n)||(M.add(n),n())}P.length=0}while(O.length);for(;X.length;)X.pop()();T=!1,M.clear(),L(t)}function he(t){if(t.fragment!==null){t.update(),C(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}function pe(t){const e=[],n=[];P.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),P=e}const B=new Set;let k;function ge(){k={r:0,c:[],p:k}}function _e(){k.r||C(k.c),k=k.p}function p(t,e){t&&t.i&&(B.delete(t),t.i(e))}function $(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),k.c.push(()=>{B.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Y(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function U(t){t&&t.c()}function w(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),D(()=>{const o=t.$$.on_mount.map(te).filter(R);t.$$.on_destroy?t.$$.on_destroy.push(...o):C(o),t.$$.on_mount=[]}),i.forEach(D)}function S(t,e){const n=t.$$;n.fragment!==null&&(pe(n.after_update),C(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(t,e){t.$$.dirty[0]===-1&&(O.push(t),me(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function A(t,e,n,r,i,o,s=null,l=[-1]){const a=j;L(t);const u=t.$$={fragment:null,ctx:[],props:o,update:h,not_equal:i,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:V(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...y)=>{const I=y.length?y[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=I)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](I),c&&$e(t,f)),d}):[],u.update(),c=!0,C(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=le(e.target);u.fragment&&u.fragment.l(f),f.forEach(_)}else u.fragment&&u.fragment.c();e.intro&&p(t.$$.fragment),w(t,e.target,e.anchor),ie()}L(a)}class N{constructor(){J(this,"$$");J(this,"$$set")}$destroy(){S(this,1),this.$destroy=h}$on(e,n){if(!R(n))return h;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ce(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ye="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ye);function ve(t){let e,n,r,i;return{c(){e=g("button"),n=F(t[1]),m(e,"class","svelte-t4zgcp")},m(o,s){v(o,e,s),b(e,n),r||(i=ne(e,"click",function(){R(t[0])&&t[0].apply(this,arguments)}),r=!0)},p(o,[s]){t=o,s&2&&H(n,t[1])},i:h,o:h,d(o){o&&_(e),r=!1,i()}}}function be(t,e,n){let{action:r}=e,{description:i}=e;return t.$$set=o=>{"action"in o&&n(0,r=o.action),"description"in o&&n(1,i=o.description)},[r,i]}class K extends N{constructor(e){super(),A(this,e,be,ve,x,{action:0,description:1})}}function we(t){let e,n,r;return n=new K({props:{action:Se,description:"Continue with Discord"}}),{c(){e=g("div"),U(n.$$.fragment),m(e,"class","wrapper svelte-xfmem0")},m(i,o){v(i,e,o),w(n,e,null),r=!0},p:h,i(i){r||(p(n.$$.fragment,i),r=!0)},o(i){$(n.$$.fragment,i),r=!1},d(i){i&&_(e),S(n)}}}function Se(){window.location.replace("https://discord.com/api/oauth2/authorize?client_id=1200515855537160323&response_type=token&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2F&scope=identify")}class ke extends N{constructor(e){super(),A(this,e,null,we,x,{})}}function Ue(t){let e,n,r,i,o,s;return{c(){e=g("div"),n=g("img"),i=z(),o=g("p"),s=F(t[0]),m(n,"class","avatar svelte-7q5hf6"),W(n.src,r=t[1])||m(n,"src",r),m(o,"class","svelte-7q5hf6"),m(e,"class","wrapper svelte-7q5hf6")},m(l,a){v(l,e,a),b(e,n),b(e,i),b(e,o),b(o,s)},p(l,[a]){a&2&&!W(n.src,r=l[1])&&m(n,"src",r),a&1&&H(s,l[0])},i:h,o:h,d(l){l&&_(e)}}}function Ie(t,e,n){let{username:r}=e,{avatarUrl:i}=e;return t.$$set=o=>{"username"in o&&n(0,r=o.username),"avatarUrl"in o&&n(1,i=o.avatarUrl)},[r,i]}class Ee extends N{constructor(e){super(),A(this,e,Ie,Ue,x,{username:0,avatarUrl:1})}}function Oe(t){let e,n;return e=new K({props:{action:t[2],description:"Create Party"}}),{c(){U(e.$$.fragment)},m(r,i){w(e,r,i),n=!0},p:h,i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){S(e,r)}}}function Pe(t){let e,n;return e=new K({props:{action:t[5],description:"Join Party"}}),{c(){U(e.$$.fragment)},m(r,i){w(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.action=r[5]),e.$set(o)},i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){S(e,r)}}}function xe(t){let e,n,r,i,o,s,l,a;const u=[Pe,Oe],c=[];function f(d,y){return d[0]?0:1}return n=f(t),r=c[n]=u[n](t),{c(){e=g("div"),r.c(),i=z(),o=g("input"),m(o,"type","number"),m(o,"placeholder","Party Code"),m(o,"class","svelte-1h8i5ft"),m(e,"class","wrapper svelte-1h8i5ft")},m(d,y){v(d,e,y),c[n].m(e,null),b(e,i),b(e,o),G(o,t[0]),s=!0,l||(a=ne(o,"input",t[6]),l=!0)},p(d,[y]){let I=n;n=f(d),n===I?c[n].p(d,y):(ge(),$(c[I],1,1,()=>{c[I]=null}),_e(),r=c[n],r?r.p(d,y):(r=c[n]=u[n](d),r.c()),p(r,1),r.m(e,i)),y&1&&re(o.value)!==d[0]&&G(o,d[0])},i(d){s||(p(r),s=!0)},o(d){$(r),s=!1},d(d){d&&_(e),c[n].d(),l=!1,a()}}}function Ae(t,e,n){let{username:r}=e,{avatarUrl:i}=e,o;function s(c){JSON.stringify({username:r,avatar_url:i})}function l(){let c={body:JSON.stringify({username:r,avatar_url:i})};fetch("/create",c).then(f=>console.log(f)).catch(console.error)}const a=()=>s();function u(){o=re(this.value),n(0,o)}return t.$$set=c=>{"username"in c&&n(3,r=c.username),"avatarUrl"in c&&n(4,i=c.avatarUrl)},[o,s,l,r,i,a,u]}class Ne extends N{constructor(e){super(),A(this,e,Ae,xe,x,{username:3,avatarUrl:4})}}function Z(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function ee(t){let e,n=t[3]+"",r,i;return{c(){e=g("span"),r=F(n),m(e,"style",i=`--duration: ${t[1]}s; --delay: ${t[2]*t[5]}s;`),m(e,"class","svelte-17gbbs9")},m(o,s){v(o,e,s),b(e,r)},p(o,s){s&1&&n!==(n=o[3]+"")&&H(r,n),s&6&&i!==(i=`--duration: ${o[1]}s; --delay: ${o[2]*o[5]}s;`)&&m(e,"style",i)},d(o){o&&_(e)}}}function Le(t){let e,n=Y(t[0].split("")),r=[];for(let i=0;i<n.length;i+=1)r[i]=ee(Z(t,n,i));return{c(){e=g("h1");for(let i=0;i<r.length;i+=1)r[i].c();m(e,"class","svelte-17gbbs9")},m(i,o){v(i,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(i,[o]){if(o&7){n=Y(i[0].split(""));let s;for(s=0;s<n.length;s+=1){const l=Z(i,n,s);r[s]?r[s].p(l,o):(r[s]=ee(l),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:h,o:h,d(i){i&&_(e),ue(r,i)}}}function je(t,e,n){let r,{text:i}=e,{duration:o}=e;return t.$$set=s=>{"text"in s&&n(0,i=s.text),"duration"in s&&n(1,o=s.duration)},t.$$.update=()=>{t.$$.dirty&3&&n(2,r=o/i.length)},[i,o,r]}class Ce extends N{constructor(e){super(),A(this,e,je,Le,x,{text:0,duration:1})}}function qe(t){let e,n,r,i;return e=new Ee({props:{username:t[1],avatarUrl:t[2]}}),r=new Ne({props:{username:t[1],avatarUrl:t[2]}}),{c(){U(e.$$.fragment),n=z(),U(r.$$.fragment)},m(o,s){w(e,o,s),v(o,n,s),w(r,o,s),i=!0},p:h,i(o){i||(p(e.$$.fragment,o),p(r.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(r.$$.fragment,o),i=!1},d(o){o&&_(n),S(e,o),S(r,o)}}}function Be(t){let e,n;return e=new ke({}),{c(){U(e.$$.fragment)},m(r,i){w(e,r,i),n=!0},p:h,i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){S(e,r)}}}function Fe(t){let e,n,r,i,o,s;e=new Ce({props:{text:"Ball Pit",duration:2}});const l=[Be,qe],a=[];function u(c,f){return c[0]?1:0}return i=u(t),o=a[i]=l[i](t),{c(){U(e.$$.fragment),n=z(),r=g("div"),o.c(),m(r,"class","info-wrapper")},m(c,f){w(e,c,f),v(c,n,f),v(c,r,f),a[i].m(r,null),s=!0},p(c,[f]){o.p(c,f)},i(c){s||(p(e.$$.fragment,c),p(o),s=!0)},o(c){$(e.$$.fragment,c),$(o),s=!1},d(c){c&&(_(n),_(r)),S(e,c),a[i].d()}}}function ze(t){let e=localStorage.getItem("signedIn")==="true",n=localStorage.getItem("username"),r=localStorage.getItem("avatarUrl");return fe(()=>{const i=new URLSearchParams(window.location.hash.slice(1)),[o,s]=[i.get("access_token"),i.get("token_type")];o&&fetch("https://discord.com/api/users/@me",{headers:{authorization:`${s} ${o}`}}).then(l=>l.json()).then(l=>{console.log(l);const{id:a,username:u,avatar:c}=l;localStorage.setItem("signedIn","true"),localStorage.setItem("username",u),c?localStorage.setItem("avatarUrl",`https://cdn.discordapp.com/avatars/${a}/${c}.png`):localStorage.setItem("avatarUrl",`https://api.dicebear.com/7.x/thumbs/svg?seed=${u}`),window.location.href="/"}).catch(console.error)}),[e,n,r]}class Je extends N{constructor(e){super(),A(this,e,ze,Fe,x,{})}}new Je({target:document.getElementById("app")});
