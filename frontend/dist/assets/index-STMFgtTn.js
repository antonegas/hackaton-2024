var ne=Object.defineProperty;var re=(t,e,n)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(re(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function p(){}function X(t){return t()}function V(){return Object.create(null)}function A(t){t.forEach(X)}function D(t){return typeof t=="function"}function L(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let B;function W(t,e){return t===e?!0:(B||(B=document.createElement("a")),B.href=e,t===B.href)}function ie(t){return Object.keys(t).length===0}function w(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function q(){return R(" ")}function Y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Z(t){return t===""?null:+t}function oe(t){return Array.from(t.childNodes)}function ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function G(t,e){t.value=e??""}let P;function j(t){P=t}function ce(){if(!P)throw new Error("Function called outside component initialization");return P}function se(t){ce().$$.on_mount.push(t)}const E=[],H=[];let x=[];const Q=[],ue=Promise.resolve();let M=!1;function ae(){M||(M=!0,ue.then(te))}function T(t){x.push(t)}const J=new Set;let S=0;function te(){if(S!==0)return;const t=P;do{try{for(;S<E.length;){const e=E[S];S++,j(e),le(e.$$)}}catch(e){throw E.length=0,S=0,e}for(j(null),E.length=0,S=0;H.length;)H.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];J.has(n)||(J.add(n),n())}x.length=0}while(E.length);for(;Q.length;)Q.pop()();M=!1,J.clear(),j(t)}function le(t){if(t.fragment!==null){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}function fe(t){const e=[],n=[];x.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),x=e}const F=new Set;let b;function de(){b={r:0,c:[],p:b}}function me(){b.r||A(b.c),b=b.p}function _(t,e){t&&t.i&&(F.delete(t),t.i(e))}function y(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),b.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function O(t){t&&t.c()}function k(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),T(()=>{const i=t.$$.on_mount.map(X).filter(D);t.$$.on_destroy?t.$$.on_destroy.push(...i):A(i),t.$$.on_mount=[]}),o.forEach(T)}function U(t,e){const n=t.$$;n.fragment!==null&&(fe(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pe(t,e){t.$$.dirty[0]===-1&&(E.push(t),ae(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(t,e,n,r,o,i,c=null,a=[-1]){const l=P;j(t);const s=t.$$={fragment:null,ctx:[],props:i,update:p,not_equal:o,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:V(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};c&&c(s.root);let u=!1;if(s.ctx=n?n(t,e.props||{},(f,d,...h)=>{const I=h.length?h[0]:d;return s.ctx&&o(s.ctx[f],s.ctx[f]=I)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](I),u&&pe(t,f)),d}):[],s.update(),u=!0,A(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const f=oe(e.target);s.fragment&&s.fragment.l(f),f.forEach(g)}else s.fragment&&s.fragment.c();e.intro&&_(t.$$.fragment),k(t,e.target,e.anchor),te()}j(l)}class C{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){U(this,1),this.$destroy=p}$on(e,n){if(!D(n))return p;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _e="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_e);function he(t){let e,n,r,o;return{c(){e=$("button"),n=R(t[1]),m(e,"class","svelte-1d0xpgj")},m(i,c){v(i,e,c),w(e,n),r||(o=Y(e,"click",function(){D(t[0])&&t[0].apply(this,arguments)}),r=!0)},p(i,[c]){t=i,c&2&&ee(n,t[1])},i:p,o:p,d(i){i&&g(e),r=!1,o()}}}function ge(t,e,n){let{action:r}=e,{description:o}=e;return t.$$set=i=>{"action"in i&&n(0,r=i.action),"description"in i&&n(1,o=i.description)},[r,o]}class K extends C{constructor(e){super(),N(this,e,ge,he,L,{action:0,description:1})}}function $e(t){let e,n,r;return n=new K({props:{action:ye,description:"Continue with Discord"}}),{c(){e=$("div"),O(n.$$.fragment),m(e,"class","wrapper svelte-xfmem0")},m(o,i){v(o,e,i),k(n,e,null),r=!0},p,i(o){r||(_(n.$$.fragment,o),r=!0)},o(o){y(n.$$.fragment,o),r=!1},d(o){o&&g(e),U(n)}}}function ye(){window.location.replace("https://discord.com/api/oauth2/authorize?client_id=1200515855537160323&response_type=token&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2F&scope=identify")}class ve extends C{constructor(e){super(),N(this,e,null,$e,L,{})}}function we(t){let e,n,r,o,i,c;return{c(){e=$("div"),n=$("img"),o=q(),i=$("p"),c=R(t[0]),m(n,"class","avatar svelte-jw7k22"),W(n.src,r=t[1])||m(n,"src",r),m(i,"class","svelte-jw7k22"),m(e,"class","wrapper svelte-jw7k22")},m(a,l){v(a,e,l),w(e,n),w(e,o),w(e,i),w(i,c)},p(a,[l]){l&2&&!W(n.src,r=a[1])&&m(n,"src",r),l&1&&ee(c,a[0])},i:p,o:p,d(a){a&&g(e)}}}function be(t,e,n){let{username:r}=e,{avatarUrl:o}=e;return t.$$set=i=>{"username"in i&&n(0,r=i.username),"avatarUrl"in i&&n(1,o=i.avatarUrl)},[r,o]}class ke extends C{constructor(e){super(),N(this,e,be,we,L,{username:0,avatarUrl:1})}}function Ue(t){let e,n;return e=new K({props:{action:t[1],description:"Create Party"}}),{c(){O(e.$$.fragment)},m(r,o){k(e,r,o),n=!0},p,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Ie(t){let e,n;return e=new K({props:{action:t[4],description:"Join Party"}}),{c(){O(e.$$.fragment)},m(r,o){k(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.action=r[4]),e.$set(i)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Se(t){let e,n,r,o,i,c,a,l;const s=[Ie,Ue],u=[];function f(d,h){return d[0]?0:1}return n=f(t),r=u[n]=s[n](t),{c(){e=$("div"),r.c(),o=q(),i=$("input"),m(i,"type","number"),m(i,"class","svelte-1h8i5ft"),m(e,"class","wrapper svelte-1h8i5ft")},m(d,h){v(d,e,h),u[n].m(e,null),w(e,o),w(e,i),G(i,t[0]),c=!0,a||(l=Y(i,"input",t[5]),a=!0)},p(d,[h]){let I=n;n=f(d),n===I?u[n].p(d,h):(de(),y(u[I],1,1,()=>{u[I]=null}),me(),r=u[n],r?r.p(d,h):(r=u[n]=s[n](d),r.c()),_(r,1),r.m(e,o)),h&1&&Z(i.value)!==d[0]&&G(i,d[0])},i(d){c||(_(r),c=!0)},o(d){y(r),c=!1},d(d){d&&g(e),u[n].d(),a=!1,l()}}}function Ee(t,e,n){let{username:r}=e,{avatarUrl:o}=e,i;function c(){let s={body:JSON.stringify({username:r,avatar_url:o})};fetch("/create",s).then(u=>console.log(u)).catch(console.error)}const a=()=>void 0;function l(){i=Z(this.value),n(0,i)}return t.$$set=s=>{"username"in s&&n(2,r=s.username),"avatarUrl"in s&&n(3,o=s.avatarUrl)},[i,c,r,o,a,l]}class xe extends C{constructor(e){super(),N(this,e,Ee,Se,L,{username:2,avatarUrl:3})}}function Oe(t){let e,n,r,o;return e=new ke({props:{username:t[1],avatarUrl:t[2]}}),r=new xe({props:{username:t[1],avatarUrl:t[2]}}),{c(){O(e.$$.fragment),n=q(),O(r.$$.fragment)},m(i,c){k(e,i,c),v(i,n,c),k(r,i,c),o=!0},p,i(i){o||(_(e.$$.fragment,i),_(r.$$.fragment,i),o=!0)},o(i){y(e.$$.fragment,i),y(r.$$.fragment,i),o=!1},d(i){i&&g(n),U(e,i),U(r,i)}}}function je(t){let e,n;return e=new ve({}),{c(){O(e.$$.fragment)},m(r,o){k(e,r,o),n=!0},p,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Pe(t){let e,n,r,o,i,c;const a=[je,Oe],l=[];function s(u,f){return u[0]?1:0}return o=s(t),i=l[o]=a[o](t),{c(){e=$("h1"),e.textContent="Ball Pit",n=q(),r=$("div"),i.c(),m(r,"class","info-wrapper")},m(u,f){v(u,e,f),v(u,n,f),v(u,r,f),l[o].m(r,null),c=!0},p(u,[f]){i.p(u,f)},i(u){c||(_(i),c=!0)},o(u){y(i),c=!1},d(u){u&&(g(e),g(n),g(r)),l[o].d()}}}function Ae(t){let e=localStorage.getItem("signedIn")==="true",n=localStorage.getItem("username"),r=localStorage.getItem("avatarUrl");return se(()=>{const o=new URLSearchParams(window.location.hash.slice(1)),[i,c]=[o.get("access_token"),o.get("token_type")];i&&fetch("https://discord.com/api/users/@me",{headers:{authorization:`${c} ${i}`}}).then(a=>a.json()).then(a=>{console.log(a);const{id:l,username:s,avatar:u}=a;localStorage.setItem("signedIn","true"),localStorage.setItem("username",s),u?localStorage.setItem("avatarUrl",`https://cdn.discordapp.com/avatars/${l}/${u}.png`):localStorage.setItem("avatarUrl",`https://api.dicebear.com/7.x/thumbs/svg?seed=${s}`),window.location.href="/"}).catch(console.error)}),[e,n,r]}class Le extends C{constructor(e){super(),N(this,e,Ae,Pe,L,{})}}new Le({target:document.getElementById("app")});
